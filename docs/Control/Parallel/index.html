<!DOCTYPE HTML>
<html><head><link rel="stylesheet" type="text/css" href="../../bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../../style.css"><title>Control.Parallel</title></head><body><div class="navbar navbar-default"><div class="container"><div class="navbar-header"><a class="navbar-brand">Core Libraries</a></div><ul class="nav navbar-nav"><li><a href="../../index.html">Contents</a></li><li><a href="../../index/index.html">Index</a></li></ul></div></div><div class="container" id="content"><h1>Control.Parallel</h1>
<a name="Parallel" href="#Parallel"><h2><code>Parallel</code></h2></a><p class="decl"><code><span class="keyword">newtype</span> <a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span> <span class="ident">a</span></code></p><ul></ul><p>The <code>Parallel</code> type constructor wraps the <code>ContT</code> type constructor
and provides type class instances for parallel composition of
computations:</p>
<ul>
<li>The definition of <code>(&lt;*&gt;)</code> from <code>Apply</code> runs two computations in parallel and applies
a function when both complete.</li>
<li>The definition of <code>(&lt;|&gt;)</code> from the <code>Alt</code> type class runs two computations in parallel
and returns the result of the computation which completes first.</li>
</ul>
<p>Parallel sections of code can be embedded in sequential code by using
the <code>inParallel</code> and <code>runParallel</code> functions:</p>
<pre class="purescript"><code>loadModel :: ContT Unit (Eff (ajax :: AJAX)) Model
loadModel = do
  token &lt;- authenticate
  runParallel $
    Model &lt;$&gt; inParallel (get &quot;/products/popular/&quot; token)
          &lt;*&gt; inParallel (get &quot;/categories/all&quot; token)
</code></pre>
<a name="inParallel" href="#inParallel"><h2><code>inParallel</code></h2></a><p class="decl"><code><span class="ident">inParallel</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">eff</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../Monad/Cont/Trans/index.html#ContT"><span class="ctor">ContT</span></a> <a href="../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a> <span class="syntax">(</span><a href="../Monad/Eff/index.html#Eff"><span class="ctor">Eff</span></a> <span class="ident">eff</span><span class="syntax">)</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span> <span class="ident">a</span></code></p><p>Create a computation to be run in parallel from a computation in the
continuation monad.</p>

<a name="withCallback" href="#withCallback"><h2><code>withCallback</code></h2></a><p class="decl"><code><span class="ident">withCallback</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">eff</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><span class="syntax">(</span><span class="ident">a</span> <span class="syntax">-&gt;</span> <a href="../Monad/Eff/index.html#Eff"><span class="ctor">Eff</span></a> <span class="ident">eff</span> <a href="../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="../Monad/Eff/index.html#Eff"><span class="ctor">Eff</span></a> <span class="ident">eff</span> <a href="../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span> <span class="ident">a</span></code></p><p>Create a parallel computation from an action which uses a callback.</p>
<p>This function is just shorthand for <code>inParallel &lt;&lt;&lt; ContT</code>.</p>

<a name="runParallel" href="#runParallel"><h2><code>runParallel</code></h2></a><p class="decl"><code><span class="ident">runParallel</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">eff</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="../Monad/Cont/Trans/index.html#ContT"><span class="ctor">ContT</span></a> <a href="../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a> <span class="syntax">(</span><a href="../Monad/Eff/index.html#Eff"><span class="ctor">Eff</span></a> <span class="ident">eff</span><span class="syntax">)</span> <span class="ident">a</span></code></p><p>Unwrap a parallel computation so that it may be embedded in sequential code,
or run using <code>runContT</code>.</p>

<a name="runParallelWith" href="#runParallelWith"><h2><code>runParallelWith</code></h2></a><p class="decl"><code><span class="ident">runParallelWith</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">eff</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><span class="ident">a</span> <span class="syntax">-&gt;</span> <a href="../Monad/Eff/index.html#Eff"><span class="ctor">Eff</span></a> <span class="ident">eff</span> <a href="../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="../Monad/Eff/index.html#Eff"><span class="ctor">Eff</span></a> <span class="ident">eff</span> <a href="../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a></code></p><p>Run a parallel computation by providing a callback</p>
<p>This function is just shorthand for <code>runContT</code> composed with <code>runParallel</code>.</p>

<p class="decl"><code><span class="keyword">instance</span> <span class="ident">functorParallel</span> <span class="syntax">::</span> <a href="../../Prelude/index.html#Functor"><span class="ctor">Functor</span></a> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span><span class="syntax">)</span></code></p>
<p class="decl"><code><span class="keyword">instance</span> <span class="ident">applyParallel</span> <span class="syntax">::</span> <a href="../../Prelude/index.html#Apply"><span class="ctor">Apply</span></a> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span><span class="syntax">)</span></code></p>
<p class="decl"><code><span class="keyword">instance</span> <span class="ident">applicativeParallel</span> <span class="syntax">::</span> <a href="../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span><span class="syntax">)</span></code></p>
<p class="decl"><code><span class="keyword">instance</span> <span class="ident">altParallel</span> <span class="syntax">::</span> <a href="../Alt/index.html#Alt"><span class="ctor">Alt</span></a> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span><span class="syntax">)</span></code></p>
<p class="decl"><code><span class="keyword">instance</span> <span class="ident">plusParallel</span> <span class="syntax">::</span> <a href="../Plus/index.html#Plus"><span class="ctor">Plus</span></a> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span><span class="syntax">)</span></code></p>
<p class="decl"><code><span class="keyword">instance</span> <span class="ident">alternativeParallel</span> <span class="syntax">::</span> <a href="../Alternative/index.html#Alternative"><span class="ctor">Alternative</span></a> <span class="syntax">(</span><a href="#Parallel"><span class="ctor">Parallel</span></a> <span class="ident">eff</span><span class="syntax">)</span></code></p>
</div></body></html>