<!DOCTYPE HTML>
<html><head><link rel="stylesheet" type="text/css" href="../../../bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../../../style.css"><title>Control.Monad.RWS</title></head><body><div class="navbar navbar-default"><div class="container"><div class="navbar-header"><a class="navbar-brand">Core Libraries</a></div><ul class="nav navbar-nav"><li><a href="../../../index.html">Contents</a></li><li><a href="../../../index/index.html">Index</a></li></ul></div></div><div class="container" id="content"><h1>Control.Monad.RWS</h1><p>This module defines the <code>RWS</code> monad.</p>
<a name="RWS" href="#RWS"><h2><code>RWS</code></h2></a><p class="decl"><code><span class="keyword">type</span> <a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="syntax">=</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <a href="../../../Data/Identity/index.html#Identity"><span class="ctor">Identity</span></a></code></p><p>The <code>RWS</code> monad is a synonym for the <code>RWST</code> monad transformer, applied
to the <code>Identity</code> monad.</p>
<a name="rws" href="#rws"><h2><code>rws</code></h2></a><p class="decl"><code><span class="ident">rws</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><span class="ident">r</span> <span class="syntax">-&gt;</span> <span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#See"><span class="ctor">See</span></a> <span class="ident">s</span> <span class="ident">a</span> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span></code></p><p>Create an action in the <code>RWS</code> monad from a function which uses the
global context and state explicitly.</p>

<a name="runRWS" href="#runRWS"><h2><code>runRWS</code></h2></a><p class="decl"><code><span class="ident">runRWS</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="ident">r</span> <span class="syntax">-&gt;</span> <span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#See"><span class="ctor">See</span></a> <span class="ident">s</span> <span class="ident">a</span> <span class="ident">w</span></code></p><p>Run a computation in the <code>RWS</code> monad.</p>

<a name="evalRWS" href="#evalRWS"><h2><code>evalRWS</code></h2></a><p class="decl"><code><span class="ident">evalRWS</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="ident">r</span> <span class="syntax">-&gt;</span> <span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">a</span> <span class="ident">w</span></code></p><p>Run a computation in the <code>RWS</code> monad, discarding the final state</p>

<a name="execRWS" href="#execRWS"><h2><code>execRWS</code></h2></a><p class="decl"><code><span class="ident">execRWS</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="ident">r</span> <span class="syntax">-&gt;</span> <span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">s</span> <span class="ident">w</span></code></p><p>Run a computation in the <code>RWS</code> monad, discarding the result</p>

<a name="mapRWS" href="#mapRWS"><h2><code>mapRWS</code></h2></a><p class="decl"><code><span class="ident">mapRWS</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w1</span> <span class="ident">w2</span> <span class="ident">s</span> <span class="ident">a1</span> <span class="ident">a2</span><span class="syntax">.</span> <span class="syntax">(</span><span class="syntax">(</span><a href="Trans/index.html#See"><span class="ctor">See</span></a> <span class="ident">s</span> <span class="ident">a1</span> <span class="ident">w1</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#See"><span class="ctor">See</span></a> <span class="ident">s</span> <span class="ident">a2</span> <span class="ident">w2</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="syntax">(</span><a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w1</span> <span class="ident">s</span> <span class="ident">a1</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r</span> <span class="ident">w2</span> <span class="ident">s</span> <span class="ident">a2</span></code></p><p>Change the types of the result and accumulator in a <code>RWS</code> action</p>

<a name="withRWS" href="#withRWS"><h2><code>withRWS</code></h2></a><p class="decl"><code><span class="ident">withRWS</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r1</span> <span class="ident">r2</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><span class="ident">r2</span> <span class="syntax">-&gt;</span> <span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">r1</span> <span class="ident">s</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="syntax">(</span><a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r1</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="#RWS"><span class="ctor">RWS</span></a> <span class="ident">r2</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">a</span></code></p><p>Change the type of the context in a <code>RWS</code> action</p>

<a name="ask" href="#ask"><h2><code>ask</code></h2></a><p class="decl"><code><span class="ident">ask</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">r</span></code></p><p>Get the context of a <code>RWS</code> action</p>

<a name="local" href="#local"><h2><code>local</code></h2></a><p class="decl"><code><span class="ident">local</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><span class="ident">r</span> <span class="syntax">-&gt;</span> <span class="ident">r</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="syntax">(</span><a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Locally change the context of a <code>RWS</code> action.</p>

<a name="reader" href="#reader"><h2><code>reader</code></h2></a><p class="decl"><code><span class="ident">reader</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><span class="ident">r</span> <span class="syntax">-&gt;</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Read a value which depends on the context in a <code>RWS</code> action.</p>

<a name="writer" href="#writer"><h2><code>writer</code></h2></a><p class="decl"><code><span class="ident">writer</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">a</span> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Write to the accumulator in a <code>RWS</code> action</p>

<a name="listen" href="#listen"><h2><code>listen</code></h2></a><p class="decl"><code><span class="ident">listen</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Monad"><span class="ctor">Monad</span></a> <span class="ident">m</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="syntax">(</span><a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">a</span> <span class="ident">w</span><span class="syntax">)</span></code></p><p>Execute a <code>RWS</code> action, and return the changes to the accumulator along with the return value</p>

<a name="pass" href="#pass"><h2><code>pass</code></h2></a><p class="decl"><code><span class="ident">pass</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Monad"><span class="ctor">Monad</span></a> <span class="ident">m</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="syntax">(</span><a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">a</span> <span class="syntax">(</span><span class="ident">w</span> <span class="syntax">-&gt;</span> <span class="ident">w</span><span class="syntax">)</span><span class="syntax">)</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Execute a <code>RWS</code> action and modify the accumulator</p>

<a name="tell" href="#tell"><h2><code>tell</code></h2></a><p class="decl"><code><span class="ident">tell</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="ident">w</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <a href="../../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a></code></p><p>Append a value to the accumulator in a <code>RWS</code> action</p>

<a name="listens" href="#listens"><h2><code>listens</code></h2></a><p class="decl"><code><span class="ident">listens</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span> <span class="ident">b</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Monad"><span class="ctor">Monad</span></a> <span class="ident">m</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><span class="ident">w</span> <span class="syntax">-&gt;</span> <span class="ident">b</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="syntax">(</span><a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="syntax">(</span><a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">a</span> <span class="ident">b</span><span class="syntax">)</span></code></p><p>Execute a <code>RWS</code> action, and return a value which depends on the accumulator along with the return value</p>

<a name="censor" href="#censor"><h2><code>censor</code></h2></a><p class="decl"><code><span class="ident">censor</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Monad"><span class="ctor">Monad</span></a> <span class="ident">m</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><span class="ident">w</span> <span class="syntax">-&gt;</span> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <span class="syntax">(</span><a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Modify the accumulator in a <code>RWS</code> action</p>

<a name="state" href="#state"><h2><code>state</code></h2></a><p class="decl"><code><span class="ident">state</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="../../../Data/Tuple/index.html#Tuple"><span class="ctor">Tuple</span></a> <span class="ident">a</span> <span class="ident">s</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Get or modify the state in a <code>RWS</code> action</p>

<a name="get" href="#get"><h2><code>get</code></h2></a><p class="decl"><code><span class="ident">get</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">s</span></code></p><p>Get the state in a <code>RWS</code> action</p>

<a name="gets" href="#gets"><h2><code>gets</code></h2></a><p class="decl"><code><span class="ident">gets</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><span class="ident">s</span> <span class="syntax">-&gt;</span> <span class="ident">a</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <span class="ident">a</span></code></p><p>Get a value which depends on the state in a <code>RWS</code> action</p>

<a name="put" href="#put"><h2><code>put</code></h2></a><p class="decl"><code><span class="ident">put</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="ident">s</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <a href="../../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a></code></p><p>Set the state in a <code>RWS</code> action</p>

<a name="modify" href="#modify"><h2><code>modify</code></h2></a><p class="decl"><code><span class="ident">modify</span> <span class="syntax">::</span> <span class="keyword">forall</span> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span><span class="syntax">.</span> <span class="syntax">(</span><a href="../../../Prelude/index.html#Applicative"><span class="ctor">Applicative</span></a> <span class="ident">m</span><span class="syntax">,</span> <a href="../../../Data/Monoid/index.html#Monoid"><span class="ctor">Monoid</span></a> <span class="ident">w</span><span class="syntax">)</span> <span class="syntax">=&gt;</span> <span class="syntax">(</span><span class="ident">s</span> <span class="syntax">-&gt;</span> <span class="ident">s</span><span class="syntax">)</span> <span class="syntax">-&gt;</span> <a href="Trans/index.html#RWST"><span class="ctor">RWST</span></a> <span class="ident">r</span> <span class="ident">w</span> <span class="ident">s</span> <span class="ident">m</span> <a href="../../../Prelude/index.html#Unit"><span class="ctor">Unit</span></a></code></p><p>Modify the state in a <code>RWS</code> action</p>

</div></body></html>